# 菜单功能测试清单

## 测试前准备
1. 启动应用：`npm start`
2. 打开开发者工具查看控制台日志

## 一级菜单测试

### 1. 💬 对话
- [ ] 点击菜单中的"对话"图标
- [ ] 验证聊天窗口打开
- [ ] 验证窗口尺寸正确 (400x500)
- [ ] 验证可以发送消息
- [ ] 验证可以关闭窗口

### 2. ⚙️ 设置
- [ ] 点击菜单中的"设置"图标
- [ ] 验证设置窗口打开
- [ ] 验证窗口尺寸正确 (360x450)
- [ ] 验证可以切换宠物类型
- [ ] 验证可以切换性格
- [ ] 验证主题已应用（赛博朋克/懒猫橘）
- [ ] 验证可以关闭窗口

### 3. 📋 历史
- [ ] 点击菜单中的"历史"图标
- [ ] 验证历史窗口打开
- [ ] 验证窗口尺寸正确 (360x450)
- [ ] 验证历史记录显示（如果有）
- [ ] 验证可以关闭窗口

### 4. 🎨 主题 (重点测试)
- [ ] 点击菜单中的"主题"图标
- [ ] 验证主题窗口打开
- [ ] 验证窗口尺寸正确 (360x380)
- [ ] 验证显示两个主题卡片（赛博朋克、懒猫橘）
- [ ] **点击"赛博朋克"卡片**
  - [ ] 验证 localStorage 中 `pet_theme` 变为 'cyberpunk'
  - [ ] 验证卡片右上角显示"✓ 当前主题"徽章
  - [ ] 验证其他卡片的徽章消失
  - [ ] 验证主题窗口的颜色变为赛博朋克风格
- [ ] **点击"懒猫橘"卡片**
  - [ ] 验证 localStorage 中 `pet_theme` 变为 'lazyCat'
  - [ ] 验证卡片右上角显示"✓ 当前主题"徽章
  - [ ] 验证主题窗口的颜色变为懒猫橘风格
- [ ] 点击关闭按钮（X 形）
- [ ] 验证窗口关闭
- [ ] 重新打开主题窗口
- [ ] 验证之前选择的主题仍然是激活状态

### 5. ➕ 更多
- [ ] 点击菜单中的"更多"图标
- [ ] 验证菜单切换到二级菜单
- [ ] 验证动画效果正常

### 6. ❌ 关闭
- [ ] 点击菜单中的"关闭"图标
- [ ] 验证菜单关闭
- [ ] 验证窗口恢复小尺寸

## 二级菜单测试

### 1. 🔧 工具
- [ ] 切换到二级菜单
- [ ] 点击"工具"图标
- [ ] 验证显示气泡消息"工具功能开发中..."

### 2. 🐛 调试
- [ ] 点击"调试"图标
- [ ] 验证 DevTools 打开

### 3. ℹ️ 关于
- [ ] 点击"关于"图标
- [ ] 验证显示气泡消息"AI Desktop Pet - 你的 AI 桌面伙伴 ✨"

### 4. 👁️ 隐藏
- [ ] 点击"隐藏"图标
- [ ] 验证窗口最小化

### 5. ◀️ 返回
- [ ] 点击"返回"图标
- [ ] 验证菜单切换回一级菜单
- [ ] 验证动画效果正常

## 主题切换联动测试

### 1. 跨窗口主题同步
- [ ] 打开主题窗口，切换到"赛博朋克"
- [ ] 保持主题窗口打开，打开聊天窗口
- [ ] 验证聊天窗口使用赛博朋克主题
- [ ] 打开设置窗口
- [ ] 验证设置窗口使用赛博朋克主题
- [ ] 在主题窗口切换到"懒猫橘"
- [ ] 验证所有打开的窗口立即切换到懒猫橘主题

### 2. 主题持久化
- [ ] 切换到"赛博朋克"主题
- [ ] 关闭所有窗口
- [ ] 重启应用 (`npm start`)
- [ ] 打开聊天窗口
- [ ] 验证主题仍然是赛博朋克

## 快捷键测试

- [ ] 按 `Space` 键
- [ ] 验证菜单打开/关闭切换
- [ ] 按 `Esc` 键
- [ ] 验证所有弹窗关闭

## 控制台日志验证

在测试过程中，验证控制台输出以下日志：

### 主题窗口日志
```
[ThemeWindow] DOMContentLoaded 事件触发
[ThemeWindow] ThemeManager 可用: true
[ThemeWindow] electron API 可用: true
[ThemeWindow] updateActiveCard 调用
[ThemeWindow] 当前主题: lazyCat
```

### 点击主题卡片时
```
[ThemeWindow] selectTheme 调用，主题: cyberpunk
[ThemeWindow] 主题已保存: cyberpunk
```

### 菜单操作日志
```
[RotaryMenu] 点击: 对话
[RotaryMenu] 打开菜单
[RotaryMenu] 关闭菜单
```

## 已知问题记录

如果发现问题，请记录在这里：

| 问题 | 描述 | 状态 |
|------|------|------|
|      |      |      |

## 测试结果

- 测试日期：_______________
- 测试人员：_______________
- 通过项目：___ / 34
- 失败项目：___ / 34
- 整体评价：_______________
