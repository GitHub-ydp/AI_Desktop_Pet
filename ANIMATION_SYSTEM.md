# AI Desktop Pet - åŠ¨ç”»ç³»ç»Ÿè¯´æ˜

## ğŸ“‹ æ¦‚è¿°

æ¡Œå® ç°åœ¨ä½¿ç”¨å®Œæ•´çš„åŠ¨ç”»çŠ¶æ€æœºç³»ç»Ÿï¼Œæ ¹æ®å¿ƒæƒ…ã€æ—¶é—´ã€äº’åŠ¨è‡ªåŠ¨åˆ‡æ¢åŠ¨ç”»ï¼Œè®©å® ç‰©æ›´åŠ ç”ŸåŠ¨ã€‚

## ğŸ­ åŠ¨ç”»çŠ¶æ€

### å½“å‰å¯ç”¨çŠ¶æ€

| çŠ¶æ€ | åŠ¨ç”»æ–‡ä»¶ | æŒç»­æ—¶é—´ | è§¦å‘æ¡ä»¶ |
|------|---------|---------|---------|
| **idle** (å¾…æœº) | happy_cat.json | å¾ªç¯ | é»˜è®¤çŠ¶æ€ |
| **happy** (å¼€å¿ƒ) | ç©çƒ.json | 8ç§’ | å¿ƒæƒ… > 85ï¼Œç”¨æˆ·äº’åŠ¨ |
| **sleeping** (ç¡è§‰) | çŒ«ååœ¨æ•å¤´ä¸Š.json | å¾ªç¯ | 5åˆ†é’Ÿä¸æ´»åŠ¨ï¼Œå¤œé—´(22:00-6:00) |
| **exercising** (è¿åŠ¨) | ä¸¾é‡.json, ä¸¾è…¿.json | 6ç§’ | å¿ƒæƒ… > 95ï¼Œæ•´ç‚¹/åŠç‚¹ |
| **playing** (ç©è€) | éª‘æ‰«å¸š.json | 5ç§’ | éšæœºè§¦å‘ï¼Œå¿ƒæƒ… > 85 |
| **thinking** (æ€è€ƒ) | happy_cat.json | 4ç§’ | ç”¨æˆ·æé—® |
| **talking** (èŠå¤©) | happy_cat.json | å¾ªç¯ | èŠå¤©è¿›è¡Œä¸­ |
| **clicked** (ç‚¹å‡») | ç©çƒ.json | 3ç§’ | ç‚¹å‡»å® ç‰© |
| **sad** (æ‚²ä¼¤) | happy_cat.json | 5ç§’ | å¿ƒæƒ… < 30ï¼Œé•¿æœŸå¿½ç•¥ |

## ğŸ”„ è‡ªåŠ¨çŠ¶æ€åˆ‡æ¢

ç³»ç»Ÿæ¯ **30ç§’** æ£€æŸ¥ä¸€æ¬¡æ˜¯å¦éœ€è¦åˆ‡æ¢çŠ¶æ€ï¼š

### å¿ƒæƒ…é©±åŠ¨
- `å¿ƒæƒ… > 95%` â†’ è¿åŠ¨æˆ–ç©è€
- `å¿ƒæƒ… > 85%` â†’ å¼€å¿ƒæˆ–ç©è€
- `å¿ƒæƒ… < 30%` â†’ æ‚²ä¼¤

### æ—¶é—´é©±åŠ¨
- `22:00 - 6:00` â†’ ç¡è§‰
- `æ•´ç‚¹/åŠç‚¹` â†’ è¿åŠ¨ï¼ˆå¦‚æœå¿ƒæƒ…å¥½ï¼‰

### æ´»åŠ¨æ£€æµ‹
- `5åˆ†é’Ÿæ— äº’åŠ¨` â†’ ç¡è§‰
- `10åˆ†é’Ÿæ— äº’åŠ¨` â†’ æ‚²ä¼¤

### éšæœºè§¦å‘
- `5% æ¦‚ç‡` â†’ éšæœºæ’­æ”¾ç©è€æˆ–è¿åŠ¨åŠ¨ç”»

## ğŸ“‚ åŠ¨ç”»æ–‡ä»¶ç»“æ„

```
lottie/
â””â”€â”€ cat/
    â”œâ”€â”€ happy_cat.json           # ä¸»è¦å¾…æœºåŠ¨ç”»
    â”œâ”€â”€ çŒ«ååœ¨æ•å¤´ä¸Š.json       # ç¡è§‰
    â”œâ”€â”€ ä¸¾é‡.json               # è¿åŠ¨1
    â”œâ”€â”€ ä¸¾è…¿.json               # è¿åŠ¨2
    â”œâ”€â”€ ç©çƒ.json               # å¼€å¿ƒ/ç©è€
    â””â”€â”€ éª‘æ‰«å¸š.json             # é­”æ³•ç©è€
```

## ğŸ® æ‰‹åŠ¨æ§åˆ¶åŠ¨ç”»

### é€šè¿‡ä»£ç æ§åˆ¶

```javascript
// åˆ‡æ¢åˆ°æŒ‡å®šçŠ¶æ€
window.PetAnimations.setState('happy');

// ä¸´æ—¶åˆ‡æ¢ï¼ˆ3ç§’åæ¢å¤ï¼‰
window.PetAnimations.setTemporaryState('playing', 3000);

// æ’­æ”¾åŠ¨ç”»åºåˆ—
await window.PetAnimations.playSequence(['happy', 'exercising', 'idle']);

// æ ¹æ®å¿ƒæƒ…æ›´æ–°åŠ¨ç”»
window.PetAnimations.updateByMood(90);  // å¿ƒæƒ… 90
```

### é€šè¿‡ç”¨æˆ·äº’åŠ¨

- **ç‚¹å‡»å® ç‰©** â†’ æ’­æ”¾ clicked åŠ¨ç”»
- **å‘é€æ¶ˆæ¯** â†’ åˆ‡æ¢åˆ° talking çŠ¶æ€
- **é•¿æ—¶é—´æ— äº’åŠ¨** â†’ è‡ªåŠ¨è¿›å…¥ç¡è§‰çŠ¶æ€

## âš™ï¸ é…ç½®æ–‡ä»¶ä½ç½®

### åŠ¨ç”»é…ç½®
**æ–‡ä»¶**: `src/animation-config.js`

åŒ…å«æ‰€æœ‰çŠ¶æ€çš„æ˜ å°„ã€è§¦å‘è§„åˆ™ã€æŒç»­æ—¶é—´é…ç½®ã€‚

### æ·»åŠ æ–°åŠ¨ç”»

1. **å‡†å¤‡åŠ¨ç”»æ–‡ä»¶**: æ”¾å…¥ `lottie/cat/` ç›®å½•
2. **æ›´æ–°é…ç½®**: åœ¨ `src/animation-config.js` ä¸­æ·»åŠ çŠ¶æ€
3. **æ›´æ–°æ˜ å°„**: åœ¨ `src/animations.js` çš„ `states` æ•°ç»„ä¸­æ·»åŠ 

ç¤ºä¾‹ï¼š
```javascript
// åœ¨ animation-config.js ä¸­æ·»åŠ 
dancing: {
  animation: 'dancing.json',
  duration: 5000,
  priority: 7,
  transitions: ['idle'],
  triggers: ['random', 'mood_high'],
  description: 'å® ç‰©åœ¨è·³èˆ'
}

// åœ¨ animations.js çš„ states æ•°ç»„ä¸­æ·»åŠ 
this.states = ['idle', 'happy', ..., 'dancing'];
```

## ğŸ¨ è‡ªå®šä¹‰è§¦å‘è§„åˆ™

åœ¨ `src/animation-config.js` çš„ `triggerRules` ä¸­æ·»åŠ ï¼š

```javascript
custom_trigger: {
  condition: (context) => {
    // è‡ªå®šä¹‰æ¡ä»¶
    return context.mood > 50 && context.isWeekend;
  },
  targetStates: ['playing', 'happy'],
  cooldown: 60000  // å†·å´æ—¶é—´
}
```

## ğŸ”§ è°ƒè¯•å’Œæµ‹è¯•

### æŸ¥çœ‹å½“å‰çŠ¶æ€
```javascript
// æ§åˆ¶å°
console.log('[Debug] Current state:', window.PetAnimations.getState());
console.log('[Debug] Mood:', state.mood);
console.log('[Debug] Last interaction:', state.lastInteraction);
```

### å¼ºåˆ¶åˆ‡æ¢çŠ¶æ€
```javascript
// å¼ºåˆ¶åˆ‡æ¢åˆ°ç¡è§‰
window.PetAnimations.setState('sleeping');

// å¼ºåˆ¶åˆ‡æ¢åˆ°è¿åŠ¨
window.PetAnimations.setState('exercising');
```

### æŸ¥çœ‹åŠ¨ç”»é…ç½®
```javascript
// æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çŠ¶æ€
console.log(window.AnimationConfig.catAnimationConfig);

// æŸ¥çœ‹è§¦å‘è§„åˆ™
console.log(window.AnimationConfig.triggerRules);
```

## ğŸ“Š çŠ¶æ€ä¼˜å…ˆçº§

å½“å¤šä¸ªçŠ¶æ€åŒæ—¶è§¦å‘æ—¶ï¼Œä¼˜å…ˆçº§é«˜çš„ä¼˜å…ˆï¼š

| ä¼˜å…ˆçº§ | è¯´æ˜ |
|--------|------|
| 15 | dragging (è¢«æ‹–æ‹½) |
| 12 | clicked (è¢«ç‚¹å‡») |
| 10 | happy, talking (å¼€å¿ƒã€èŠå¤©) |
| 9 | thinking (æ€è€ƒ) |
| 8 | exercising, playing, sad (è¿åŠ¨ã€ç©è€ã€æ‚²ä¼¤) |
| 5 | sleeping (ç¡è§‰) |
| 0 | idle (å¾…æœº) |

## ğŸ¯ æœ€ä½³å®è·µ

### æ·»åŠ æ–°å® ç‰©ç±»å‹
1. åˆ›å»º `lottie/dog/` ç›®å½•
2. æ”¾å…¥å¯¹åº”çš„åŠ¨ç”»æ–‡ä»¶
3. åœ¨ `animation-config.js` ä¸­åˆ›å»º `dogAnimationConfig`
4. åœ¨ `lottie-controller.js` çš„ `petToFolder` ä¸­æ·»åŠ æ˜ å°„

### æ€§èƒ½ä¼˜åŒ–
- åŠ¨ç”»æ–‡ä»¶å¤§å°æ§åˆ¶åœ¨ 500KB ä»¥å†…
- ä½¿ç”¨ `loop: false` å¯¹äºä¸€æ¬¡æ€§åŠ¨ç”»
- é¿å…è¿‡äºé¢‘ç¹çš„çŠ¶æ€åˆ‡æ¢ï¼ˆ< 5ç§’ï¼‰

### ç”¨æˆ·ä½“éªŒ
- å¾…æœºåŠ¨ç”»åº”è¯¥å¾ªç¯ä¸”æ¸©å’Œ
- é¿å…çªç„¶çš„çŠ¶æ€åˆ‡æ¢ï¼ˆä½¿ç”¨è¿‡æ¸¡æ•ˆæœï¼‰
- é•¿åŠ¨ç”»ï¼ˆ> 10ç§’ï¼‰åº”è¯¥æœ‰æ‰‹åŠ¨ä¸­æ–­æ–¹å¼

## ğŸ› å¸¸è§é—®é¢˜

**Q: åŠ¨ç”»ä¸åˆ‡æ¢ï¼Ÿ**
A: æ£€æŸ¥ `AnimationConfig` æ˜¯å¦åŠ è½½ï¼ŒæŸ¥çœ‹æ§åˆ¶å°é”™è¯¯

**Q: åŠ¨ç”»åŠ è½½å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨

**Q: åŠ¨ç”»æ¨¡ç³Šï¼Ÿ**
A: Lottie æ–‡ä»¶å¯èƒ½åˆ†è¾¨ç‡å¤ªä½ï¼Œéœ€è¦é‡æ–°å¯¼å‡º

**Q: åŠ¨ç”»åˆ‡æ¢å¤ªé¢‘ç¹ï¼Ÿ**
A: å¢åŠ çŠ¶æ€æŒç»­æ—¶é—´æˆ–å†·å´æ—¶é—´

## ğŸ“ åç»­è®¡åˆ’

- [ ] æ·»åŠ æ›´å¤šåŠ¨ç”»çŠ¶æ€ï¼ˆeating, reading, etc.ï¼‰
- [ ] æ”¯æŒç‹—ã€å…”ã€ç‹ã€ç†Šçš„ä¸“å±åŠ¨ç”»
- [ ] æ·»åŠ åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ
- [ ] æ”¯æŒç”¨æˆ·ä¸Šä¼ è‡ªå®šä¹‰åŠ¨ç”»
- [ ] åŠ¨ç”»å•†åŸï¼ˆä¸‹è½½æ›´å¤šåŠ¨ç”»ï¼‰
