---
name: data-cleaning
description: "è‡ªåŠ¨æ¸…æ´—å’Œé¢„å¤„ç†æ•°æ®ã€‚å¤„ç†ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼ã€é‡å¤æ•°æ®ã€æ ¼å¼ä¸ä¸€è‡´ç­‰é—®é¢˜ã€‚æ”¯æŒæ•°æ®æ ‡å‡†åŒ–ã€å½’ä¸€åŒ–ã€ç±»åž‹è½¬æ¢ã€‚é€‚ç”¨äºŽæ•°æ®åˆ†æžå‰çš„å‡†å¤‡å·¥ä½œã€‚"
license: MIT
version: 1.0.0
---

# æ•°æ®æ¸…æ´—åŠ©æ‰‹

æ™ºèƒ½æ£€æµ‹å’Œä¿®å¤æ•°æ®è´¨é‡é—®é¢˜ï¼Œä¸ºæ•°æ®åˆ†æžåšå¥½å‡†å¤‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ•°æ®è´¨é‡æ£€æµ‹
- ðŸ” **ç¼ºå¤±å€¼æ£€æµ‹** - è¯†åˆ«ç©ºå€¼ã€NULLã€NaN
- ðŸš¨ **å¼‚å¸¸å€¼æ£€æµ‹** - ç»Ÿè®¡æ–¹æ³•ã€ä¸šåŠ¡è§„åˆ™
- ðŸ”„ **é‡å¤æ•°æ®æ£€æµ‹** - å®Œå…¨é‡å¤ã€éƒ¨åˆ†é‡å¤
- ðŸ“ **æ ¼å¼ä¸€è‡´æ€§æ£€æŸ¥** - æ—¥æœŸã€æ•°å­—ã€æ–‡æœ¬æ ¼å¼
- âš ï¸ **æ•°æ®ç±»åž‹éªŒè¯** - æ£€æŸ¥ç±»åž‹é”™è¯¯

### æ•°æ®æ¸…æ´—æ“ä½œ
- âœ… ç¼ºå¤±å€¼å¤„ç†ï¼ˆåˆ é™¤ã€å¡«å……ã€æ’å€¼ï¼‰
- âœ… å¼‚å¸¸å€¼å¤„ç†ï¼ˆåˆ é™¤ã€æ›¿æ¢ã€ä¸Šä¸‹é™ï¼‰
- âœ… é‡å¤æ•°æ®åˆ é™¤
- âœ… æ ¼å¼æ ‡å‡†åŒ–ï¼ˆæ—¥æœŸã€ç”µè¯ã€é‚®ç®±ï¼‰
- âœ… æ–‡æœ¬æ¸…æ´—ï¼ˆåŽ»ç©ºæ ¼ã€å¤§å°å†™ã€ç‰¹æ®Šå­—ç¬¦ï¼‰
- âœ… æ•°æ®ç±»åž‹è½¬æ¢

### æ•°æ®è½¬æ¢
- ðŸ“Š æ•°å€¼æ ‡å‡†åŒ–ï¼ˆZ-scoreã€Min-Maxï¼‰
- ðŸ”¢ åˆ†ç±»ç¼–ç ï¼ˆOne-Hotã€Label Encodingï¼‰
- ðŸ“… æ—¶é—´ç‰¹å¾æå–
- ðŸ”¤ æ–‡æœ¬ç‰¹å¾æå–

## ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ç”¨æ³•

**å¿«é€Ÿæ¸…æ´—**ï¼š
```
"æ¸…æ´—è¿™ä»½æ•°æ®"
"æ£€æŸ¥è¿™ä¸ª CSV æ–‡ä»¶çš„æ•°æ®è´¨é‡"
"å¤„ç†è¿™ä¸ªè¡¨æ ¼ä¸­çš„ç¼ºå¤±å€¼"
```

**ç‰¹å®šé—®é¢˜**ï¼š
```
"åˆ é™¤é‡å¤çš„è®¢å•è®°å½•"
"æ ‡å‡†åŒ–æ—¥æœŸæ ¼å¼"
"å¤„ç†å¼‚å¸¸çš„é”€å”®æ•°å­—"
```

### é«˜çº§ç”¨æ³•

**è‡ªå®šä¹‰è§„åˆ™**ï¼š
```
"åˆ é™¤é”€å”®é¢å°äºŽ0æˆ–å¤§äºŽ100ä¸‡çš„è®°å½•"
"å°†æ‰€æœ‰é‚®ç®±è½¬æ¢ä¸ºå°å†™"
"ç”¨ä¸­ä½æ•°å¡«å……ç¼ºå¤±çš„ä»·æ ¼"
```

**æ‰¹é‡å¤„ç†**ï¼š
```
"æ¸…æ´—æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰çš„ Excel æ–‡ä»¶"
"åº”ç”¨ç›¸åŒçš„æ¸…æ´—è§„åˆ™åˆ°å¤šä¸ªè¡¨"
```

## æ•°æ®è´¨é‡é—®é¢˜

### 1. ç¼ºå¤±å€¼

**æ£€æµ‹æ–¹æ³•**ï¼š
```python
# æ£€æµ‹ç¼ºå¤±å€¼
df.isnull().sum()
df.info()
```

**å¤„ç†ç­–ç•¥**ï¼š

| åœºæ™¯ | å¤„ç†æ–¹æ³• |
|------|---------|
| å°‘é‡ç¼ºå¤± | åˆ é™¤è¡Œ |
| æ•°å€¼åž‹ | å‡å€¼/ä¸­ä½æ•°å¡«å…… |
| åˆ†ç±»åž‹ | ä¼—æ•°å¡«å…… |
| æ—¶é—´åºåˆ— | çº¿æ€§æ’å€¼ |
| å¯é¢„æµ‹ | æ¨¡åž‹é¢„æµ‹å¡«å…… |

**ç¤ºä¾‹**ï¼š
```python
# åˆ é™¤ç¼ºå¤±å€¼
df.dropna()

# å¡«å……å‡å€¼
df['price'].fillna(df['price'].mean())

# å‰å‘å¡«å……
df.fillna(method='ffill')
```

### 2. å¼‚å¸¸å€¼

**æ£€æµ‹æ–¹æ³•**ï¼š
- **ç»Ÿè®¡æ–¹æ³•** - IQRã€Z-scoreã€æ ‡å‡†å·®
- **å¯è§†åŒ–** - ç®±çº¿å›¾ã€æ•£ç‚¹å›¾
- **ä¸šåŠ¡è§„åˆ™** - æ ¹æ®ä¸šåŠ¡é€»è¾‘åˆ¤æ–­

**IQR æ–¹æ³•**ï¼š
```python
Q1 = df['value'].quantile(0.25)
Q3 = df['value'].quantile(0.75)
IQR = Q3 - Q1
lower = Q1 - 1.5 * IQR
upper = Q3 + 1.5 * IQR

# è¿‡æ»¤å¼‚å¸¸å€¼
df = df[(df['value'] >= lower) & (df['value'] <= upper)]
```

**Z-score æ–¹æ³•**ï¼š
```python
from scipy import stats
z_scores = np.abs(stats.zscore(df['value']))
df = df[z_scores < 3]  # ä¿ç•™3ä¸ªæ ‡å‡†å·®å†…çš„æ•°æ®
```

### 3. é‡å¤æ•°æ®

**æ£€æµ‹**ï¼š
```python
# å®Œå…¨é‡å¤
df.duplicated().sum()

# åŸºäºŽç‰¹å®šåˆ—
df.duplicated(subset=['user_id', 'date']).sum()
```

**å¤„ç†**ï¼š
```python
# åˆ é™¤å®Œå…¨é‡å¤
df.drop_duplicates()

# ä¿ç•™æœ€åŽä¸€æ¡
df.drop_duplicates(keep='last')

# åŸºäºŽç‰¹å®šåˆ—åˆ é™¤
df.drop_duplicates(subset=['user_id'])
```

### 4. æ ¼å¼ä¸ä¸€è‡´

**æ—¥æœŸæ ¼å¼**ï¼š
```python
# ç»Ÿä¸€æ—¥æœŸæ ¼å¼
df['date'] = pd.to_datetime(df['date'], format='%Y-%m-%d')

# å¤„ç†å¤šç§æ ¼å¼
df['date'] = pd.to_datetime(df['date'], infer_datetime_format=True)
```

**æ–‡æœ¬æ¸…æ´—**ï¼š
```python
# åŽ»é™¤ç©ºæ ¼
df['name'] = df['name'].str.strip()

# ç»Ÿä¸€å¤§å°å†™
df['email'] = df['email'].str.lower()

# åŽ»é™¤ç‰¹æ®Šå­—ç¬¦
df['phone'] = df['phone'].str.replace(r'[^0-9]', '', regex=True)
```

### 5. æ•°æ®ç±»åž‹é”™è¯¯

**è½¬æ¢**ï¼š
```python
# è½¬æ¢ä¸ºæ•°å€¼åž‹
df['price'] = pd.to_numeric(df['price'], errors='coerce')

# è½¬æ¢ä¸ºåˆ†ç±»åž‹
df['category'] = df['category'].astype('category')

# è½¬æ¢ä¸ºå­—ç¬¦ä¸²
df['id'] = df['id'].astype(str)
```

## æ•°æ®æ ‡å‡†åŒ–

### å½’ä¸€åŒ– (Min-Max Scaling)
å°†æ•°æ®ç¼©æ”¾åˆ° [0, 1] åŒºé—´
```python
from sklearn.preprocessing import MinMaxScaler
scaler = MinMaxScaler()
df['normalized'] = scaler.fit_transform(df[['value']])
```

### æ ‡å‡†åŒ– (Z-score Normalization)
å°†æ•°æ®è½¬æ¢ä¸ºå‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º1
```python
from sklearn.preprocessing import StandardScaler
scaler = StandardScaler()
df['standardized'] = scaler.fit_transform(df[['value']])
```

### å¯¹æ•°è½¬æ¢
å¤„ç†åæ€åˆ†å¸ƒ
```python
df['log_value'] = np.log1p(df['value'])
```

## åˆ†ç±»æ•°æ®ç¼–ç 

### Label Encoding
å°†ç±»åˆ«è½¬æ¢ä¸ºæ•°å­—
```python
from sklearn.preprocessing import LabelEncoder
le = LabelEncoder()
df['category_encoded'] = le.fit_transform(df['category'])
```

### One-Hot Encoding
å°†ç±»åˆ«è½¬æ¢ä¸ºäºŒè¿›åˆ¶å‘é‡
```python
df_encoded = pd.get_dummies(df, columns=['category'])
```

## æ•°æ®æ¸…æ´—æµç¨‹

```
1. æ•°æ®æŽ¢ç´¢
   â†“ 
   - æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯
   - ç»Ÿè®¡æè¿°
   - æ•°æ®ç±»åž‹æ£€æŸ¥

2. è´¨é‡è¯„ä¼°
   â†“
   - ç¼ºå¤±å€¼åˆ†æž
   - å¼‚å¸¸å€¼æ£€æµ‹
   - é‡å¤æ•°æ®æ£€æŸ¥
   - æ ¼å¼ä¸€è‡´æ€§éªŒè¯

3. æ•°æ®æ¸…æ´—
   â†“
   - å¤„ç†ç¼ºå¤±å€¼
   - å¤„ç†å¼‚å¸¸å€¼
   - åˆ é™¤é‡å¤æ•°æ®
   - æ ¼å¼æ ‡å‡†åŒ–
   - ç±»åž‹è½¬æ¢

4. æ•°æ®è½¬æ¢
   â†“
   - ç‰¹å¾ç¼©æ”¾
   - ç¼–ç è½¬æ¢
   - ç‰¹å¾å·¥ç¨‹

5. è´¨é‡éªŒè¯
   â†“
   - éªŒè¯æ¸…æ´—ç»“æžœ
   - ç”Ÿæˆæ•°æ®è´¨é‡æŠ¥å‘Š
   - ä¿å­˜æ¸…æ´—åŽçš„æ•°æ®
```

## å¸¸è§æ•°æ®é—®é¢˜

| é—®é¢˜ç±»åž‹ | ç—‡çŠ¶ | è§£å†³æ–¹æ¡ˆ |
|---------|------|---------|
| ç¼ºå¤±å€¼ | NULLã€NaNã€ç©ºå­—ç¬¦ä¸² | åˆ é™¤æˆ–å¡«å…… |
| å¼‚å¸¸å€¼ | æžç«¯å€¼ã€ä¸åˆç†å€¼ | è¿‡æ»¤æˆ–æ›¿æ¢ |
| é‡å¤ | ç›¸åŒè®°å½•å‡ºçŽ°å¤šæ¬¡ | åŽ»é‡ |
| æ ¼å¼ | æ—¥æœŸ/æ•°å­—æ ¼å¼ä¸ç»Ÿä¸€ | æ ‡å‡†åŒ– |
| ç±»åž‹ | æ•°å­—å­˜å‚¨ä¸ºæ–‡æœ¬ | ç±»åž‹è½¬æ¢ |
| ç¼–ç  | ä¹±ç ã€ç‰¹æ®Šå­—ç¬¦ | ç¼–ç è½¬æ¢ |
| å•ä½ | æ··åˆå•ä½ | å•ä½ç»Ÿä¸€ |

## æ•°æ®è´¨é‡æŠ¥å‘Š

è‡ªåŠ¨ç”Ÿæˆçš„æŠ¥å‘ŠåŒ…å«ï¼š

1. **æ•°æ®æ¦‚è§ˆ**
   - è¡Œæ•°ã€åˆ—æ•°
   - æ•°æ®ç±»åž‹åˆ†å¸ƒ
   - å†…å­˜ä½¿ç”¨

2. **è´¨é‡æŒ‡æ ‡**
   - ç¼ºå¤±å€¼æ¯”ä¾‹
   - é‡å¤è¡Œæ•°é‡
   - å¼‚å¸¸å€¼æ•°é‡
   - æ ¼å¼é”™è¯¯æ•°é‡

3. **æ¸…æ´—æ“ä½œ**
   - æ‰§è¡Œçš„æ“ä½œåˆ—è¡¨
   - å½±å“çš„è¡Œæ•°
   - æ•°æ®å˜åŒ–ç»Ÿè®¡

4. **å»ºè®®**
   - è¿›ä¸€æ­¥æ¸…æ´—å»ºè®®
   - æ•°æ®è´¨é‡æ”¹è¿›å»ºè®®

## æœ€ä½³å®žè·µ

### DOï¼ˆæŽ¨èï¼‰
âœ… æ¸…æ´—å‰å…ˆå¤‡ä»½åŽŸå§‹æ•°æ®
âœ… è®°å½•æ‰€æœ‰æ¸…æ´—æ“ä½œ
âœ… éªŒè¯æ¸…æ´—ç»“æžœçš„åˆç†æ€§
âœ… ä¿ç•™æ¸…æ´—æ—¥å¿—
âœ… æ ¹æ®ä¸šåŠ¡è§„åˆ™å¤„ç†æ•°æ®
âœ… æ¸…æ´—åŽç”Ÿæˆè´¨é‡æŠ¥å‘Š

### DON'Tï¼ˆé¿å…ï¼‰
âŒ éšæ„åˆ é™¤æ•°æ®
âŒ ä¸è®°å½•æ¸…æ´—æ“ä½œ
âŒ è¿‡åº¦å¡«å……ç¼ºå¤±å€¼
âŒ å¿½ç•¥ä¸šåŠ¡å«ä¹‰
âŒ ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰é—®é¢˜
âŒ ä¸éªŒè¯æ¸…æ´—ç»“æžœ

## æŠ€æœ¯æ ˆ

**Python åº“**ï¼š
- `pandas` - æ•°æ®å¤„ç†æ ¸å¿ƒ
- `numpy` - æ•°å€¼è®¡ç®—
- `scipy` - ç»Ÿè®¡åˆ†æž
- `sklearn` - æ•°æ®é¢„å¤„ç†
- `missingno` - ç¼ºå¤±å€¼å¯è§†åŒ–

## ä¾èµ–å®‰è£…

```bash
pip install pandas numpy scipy scikit-learn missingno
```

## è¾“å‡ºå†…å®¹

æ¸…æ´—å®ŒæˆåŽæä¾›ï¼š
1. ðŸ“Š æ¸…æ´—åŽçš„æ•°æ®æ–‡ä»¶
2. ðŸ“ æ•°æ®è´¨é‡æŠ¥å‘Š
3. ðŸ“‹ æ¸…æ´—æ“ä½œæ—¥å¿—
4. ðŸ“ˆ å‰åŽå¯¹æ¯”ç»Ÿè®¡
5. ðŸ’¡ è¿›ä¸€æ­¥ä¼˜åŒ–å»ºè®®

